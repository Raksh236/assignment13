{"version":3,"sources":["Filters.js","ProductRow.js","ProductTable.js","ProductForm.js","Products.js","App.js","serviceWorker.js","index.js"],"names":["Filters","Component","constructor","props","super","this","handleChange","bind","e","value","target","name","onFilter","render","React","createElement","className","type","placeholder","onChange","ProductRow","destroy","onDestroy","product","id","category","price","instock","onClick","ProductTable","handleDestroy","productsArray","Object","keys","products","map","pid","rows","filter","filterText","toLowerCase","forEach","productDoc","indexOf","push","key","RESET_VALUES","productid","ProductForm","handleSave","state","_objectSpread","errors","checked","setState","prevState","preventDefault","onSave","onSubmit","step","API_BASE","Products","handleFilter","componentDidMount","fetch","concat","then","res","json","data","productsObj","doc","catch","err","console","error","filterInput","productFormValues","Date","now","productPayload","parseFloat","isNew","url","method","headers","body","JSON","stringify","saved","productId","App","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ccb0d801.chunk.js","sourcesContent":["\nimport React, { Component } from 'react';\n\nclass Filters extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    const value = e.target.value;\n    const name = e.target.name;\n\n    this.props.onFilter({\n      [name]: value,\n    });\n  }\n\n  render() {\n    return (\n      <form className=\"mb-3\">\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Search...\"\n          name=\"filterText\"\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default Filters;\n","\nimport React, { Component } from 'react';\n\nclass ProductRow extends Component {\n  constructor(props) {\n    super(props);\n    this.destroy = this.destroy.bind(this);\n  }\n\n  destroy() {\n    this.props.onDestroy(this.props.product.id);\n  }\n\n  render() {\n    const { product } = this.props.product;\n\n    return (\n      <tr>\n        <td>{product.name}</td>\n        <td>{product.category}</td>\n        <td>${product.price}</td>\n        <td>{product.instock ? 'Yes' : 'No'}</td>\n        <td className=\"text-right\">\n          <button onClick={this.destroy} className=\"btn btn-info btn-sm\">\n            Delete\n          </button>\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default ProductRow;\n","\nimport React, { Component } from 'react';\nimport ProductRow from './ProductRow';\n\nclass ProductTable extends Component {\n  constructor(props) {\n    super(props);\n    this.handleDestroy = this.handleDestroy.bind(this);\n  }\n\n  handleDestroy(id) {\n    this.props.onDestroy(id);\n  }\n\n  render() {\n    const productsArray = Object.keys(this.props.products).map(\n      (pid) => this.props.products[pid]\n    );\n    const rows = [];\n    const filter = (this.props.filterText || '').toLowerCase();\n\n    productsArray.forEach((productDoc) => {\n      const name = (productDoc.product && productDoc.product.name) || '';\n      if (name.toLowerCase().indexOf(filter) === -1) {\n        return;\n      }\n      rows.push(\n        <ProductRow\n          product={productDoc}\n          key={productDoc.id}\n          onDestroy={this.handleDestroy}\n        />\n      );\n    });\n\n    return (\n      <div>\n        <table className=\"table table-striped table-sm\">\n          <thead className=\"thead-dark\">\n            <tr>\n              <th>Name</th>\n              <th>Category</th>\n              <th>Price</th>\n              <th>In Stock</th>\n              <th>&nbsp;</th>\n            </tr>\n          </thead>\n          <tbody>{rows}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default ProductTable;\n","\nimport React, { Component } from 'react';\n\nconst RESET_VALUES = {\n  id: '',\n  productid: '',\n  category: '',\n  price: '',\n  name: '',\n  instock: true,\n};\n\nclass ProductForm extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.state = {\n      product: { ...RESET_VALUES },\n      errors: {},\n    };\n  }\n\n  handleChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState((prevState) => ({\n      product: {\n        ...prevState.product,\n        [name]: value,\n      },\n    }));\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n    this.props.onSave(this.state.product);\n    this.setState({\n      product: { ...RESET_VALUES },\n      errors: {},\n    });\n  }\n\n  render() {\n    const { name, category, price, instock } = this.state.product;\n\n    return (\n      <form onSubmit={this.handleSave}>\n        <h4>Add a new product</h4>\n        <p>\n          <label>\n            Name\n            <br />\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"name\"\n              onChange={this.handleChange}\n              value={name}\n            />\n          </label>\n        </p>\n        <p>\n          <label>\n            Category\n            <br />\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"category\"\n              onChange={this.handleChange}\n              value={category}\n            />\n          </label>\n        </p>\n        <p>\n          <label>\n            Price\n            <br />\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              className=\"form-control\"\n              name=\"price\"\n              onChange={this.handleChange}\n              value={price}\n            />\n          </label>\n        </p>\n        <p>\n          <label>\n            In Stock\n            <br />\n            <input\n              type=\"checkbox\"\n              name=\"instock\"\n              checked={instock}\n              onChange={this.handleChange}\n            />{' '}\n            <span>{instock ? 'Yes' : 'No'}</span>\n          </label>\n        </p>\n        <input\n          type=\"submit\"\n          className=\"btn btn-info\"\n          value=\"Save\"\n        />\n      </form>\n    );\n  }\n}\n\nexport default ProductForm;\n","import React, { Component } from \"react\";\nimport Filters from \"./Filters\";\nimport ProductTable from \"./ProductTable\";\nimport ProductForm from \"./ProductForm\";\n\nconst API_BASE = \"https://assignment13-backend.onrender.com\";\n\nclass Products extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterText: \"\",\n      products: {},\n    };\n    this.handleFilter = this.handleFilter.bind(this);\n    this.handleDestroy = this.handleDestroy.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(`${API_BASE}/product/get/`)\n      .then((res) => res.json())\n      .then((data) => {\n        const productsObj = {};\n        data.forEach((doc) => {\n          productsObj[doc.id] = doc;\n        });\n        this.setState({ products: productsObj });\n      })\n      .catch((err) => {\n        console.error(\"Error fetching products:\", err);\n      });\n  }\n\n  handleFilter(filterInput) {\n    this.setState(filterInput);\n  }\n\n  handleSave(productFormValues) {\n    const id = productFormValues.id || Date.now();\n    const productPayload = {\n      id,\n      product: {\n        productid: productFormValues.productid || id,\n        category: productFormValues.category,\n        price: parseFloat(productFormValues.price || 0),\n        name: productFormValues.name,\n        instock:\n          typeof productFormValues.instock === \"boolean\"\n            ? productFormValues.instock\n            : true,\n      },\n    };\n\n    const isNew = !productFormValues.id;\n\n    const url = isNew\n      ? `${API_BASE}/product/create`\n      : `${API_BASE}/product/update/${id}`;\n    const method = isNew ? \"POST\" : \"PUT\";\n\n    fetch(url, {\n      method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(productPayload),\n    })\n      .then((res) => res.json())\n      .then((saved) => {\n        this.setState((prevState) => {\n          const products = { ...prevState.products };\n          products[saved.id] = saved;\n          return { products };\n        });\n      })\n      .catch((err) => {\n        console.error(\"Error saving product:\", err);\n      });\n  }\n\n  handleDestroy(productId) {\n    fetch(`${API_BASE}/product/delete/${productId}`, {\n      method: \"DELETE\",\n    })\n      .then(() => {\n        this.setState((prevState) => {\n          const products = { ...prevState.products };\n          delete products[productId];\n          return { products };\n        });\n      })\n      .catch((err) => {\n        console.error(\"Error deleting product:\", err);\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>My Inventory</h1>\n        <Filters onFilter={this.handleFilter} />\n        <ProductTable\n          products={this.state.products}\n          filterText={this.state.filterText}\n          onDestroy={this.handleDestroy}\n        />\n        <ProductForm onSave={this.handleSave} />\n      </div>\n    );\n  }\n}\n\nexport default Products;\n","\nimport React from 'react';\nimport Products from './Products';\n\nfunction App() {\n  return (\n    <div className=\"container mt-4\">\n      <Products />\n    </div>\n  );\n}\n\nexport default App;\n","const isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    window.location.hostname === \"[::1]\" ||\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl, config);\n\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              console.log(\"Content is cached for offline use.\");\n\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  fetch(swUrl)\n    .then((response) => {\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}