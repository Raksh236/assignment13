(this.webpackJsonpassignment13=this.webpackJsonpassignment13||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),l=(n(15),n(7)),i=n(2),s=n(3),u=n(5),h=n(4),p=n(1),d=n(6),m=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value,n=e.target.name;this.props.onFilter(Object(l.a)({},n,t))}},{key:"render",value:function(){return r.a.createElement("form",{className:"mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search...",name:"filterText",onChange:this.handleChange}))}}]),t}(a.Component),b=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).destroy=n.destroy.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"destroy",value:function(){this.props.onDestroy(this.props.product.id)}},{key:"render",value:function(){var e=this.props.product.product;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.category),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.instock?"Yes":"No"),r.a.createElement("td",{className:"text-right"},r.a.createElement("button",{onClick:this.destroy,className:"btn btn-info btn-sm"},"Delete")))}}]),t}(a.Component),f=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleDestroy=n.handleDestroy.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleDestroy",value:function(e){this.props.onDestroy(e)}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.products).map((function(t){return e.props.products[t]})),n=[],a=(this.props.filterText||"").toLowerCase();return t.forEach((function(t){-1!==(t.product&&t.product.name||"").toLowerCase().indexOf(a)&&n.push(r.a.createElement(b,{product:t,key:t.id,onDestroy:e.handleDestroy}))})),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped table-sm"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"In Stock"),r.a.createElement("th",null,"\xa0"))),r.a.createElement("tbody",null,n)))}}]),t}(a.Component);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={id:"",productid:"",category:"",price:"",name:"",instock:!0},E=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleSave=n.handleSave.bind(Object(p.a)(n)),n.state={product:O({},v),errors:{}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState((function(e){return{product:O({},e.product,Object(l.a)({},a,n))}}))}},{key:"handleSave",value:function(e){e.preventDefault(),this.props.onSave(this.state.product),this.setState({product:O({},v),errors:{}})}},{key:"render",value:function(){var e=this.state.product,t=e.name,n=e.category,a=e.price,c=e.instock;return r.a.createElement("form",{onSubmit:this.handleSave},r.a.createElement("h4",null,"Add a new product"),r.a.createElement("p",null,r.a.createElement("label",null,"Name",r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"form-control",name:"name",onChange:this.handleChange,value:t}))),r.a.createElement("p",null,r.a.createElement("label",null,"Category",r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"form-control",name:"category",onChange:this.handleChange,value:n}))),r.a.createElement("p",null,r.a.createElement("label",null,"Price",r.a.createElement("br",null),r.a.createElement("input",{type:"number",step:"0.01",className:"form-control",name:"price",onChange:this.handleChange,value:a}))),r.a.createElement("p",null,r.a.createElement("label",null,"In Stock",r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",name:"instock",checked:c,onChange:this.handleChange})," ",r.a.createElement("span",null,c?"Yes":"No"))),r.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Save"}))}}]),t}(a.Component);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={filterText:"",products:{}},n.handleFilter=n.handleFilter.bind(Object(p.a)(n)),n.handleDestroy=n.handleDestroy.bind(Object(p.a)(n)),n.handleSave=n.handleSave.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5001/product/get/").then((function(e){return e.json()})).then((function(t){var n={};t.forEach((function(e){n[e.id]=e})),e.setState({products:n})})).catch((function(e){console.error("Error fetching products:",e)}))}},{key:"handleFilter",value:function(e){this.setState(e)}},{key:"handleSave",value:function(e){var t=this,n=e.id||Date.now(),a={id:n,product:{productid:e.productid||n,category:e.category,price:parseFloat(e.price||0),name:e.name,instock:"boolean"!==typeof e.instock||e.instock}},r=!e.id,c=r?"http://localhost:5001/product/create":"http://localhost:5001/product/update/".concat(n);fetch(c,{method:r?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){t.setState((function(t){var n=g({},t.products);return n[e.id]=e,{products:n}}))})).catch((function(e){console.error("Error saving product:",e)}))}},{key:"handleDestroy",value:function(e){var t=this;fetch("http://localhost:5001/product/delete/".concat(e),{method:"DELETE"}).then((function(){t.setState((function(t){var n=g({},t.products);return delete n[e],{products:n}}))})).catch((function(e){console.error("Error deleting product:",e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"My Inventory"),r.a.createElement(m,{onFilter:this.handleFilter}),r.a.createElement(f,{products:this.state.products,filterText:this.state.filterText,onDestroy:this.handleDestroy}),r.a.createElement(E,{onSave:this.handleSave}))}}]),t}(a.Component);var C=function(){return r.a.createElement("div",{className:"container mt-4"},r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.5e54169c.chunk.js.map