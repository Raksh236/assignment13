{"version":3,"sources":["Filters.js","ProductRow.js","ProductTable.js","ProductForm.js","Products.js","App.js","serviceWorker.js","index.js"],"names":["Filters","props","handleChange","bind","e","value","target","name","this","onFilter","className","type","placeholder","onChange","Component","ProductRow","destroy","onDestroy","product","id","category","price","instock","onClick","ProductTable","handleDestroy","productsArray","Object","keys","products","map","pid","rows","filter","filterText","toLowerCase","forEach","productDoc","indexOf","push","key","RESET_VALUES","productid","ProductForm","handleSave","state","errors","checked","setState","prevState","preventDefault","onSave","onSubmit","step","Products","handleFilter","fetch","then","res","json","data","productsObj","doc","catch","err","console","error","filterInput","productFormValues","Date","now","productPayload","parseFloat","isNew","url","method","headers","body","JSON","stringify","saved","productId","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5e54169c.chunk.js","sourcesContent":["\nimport React, { Component } from 'react';\n\nclass Filters extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    const value = e.target.value;\n    const name = e.target.name;\n\n    this.props.onFilter({\n      [name]: value,\n    });\n  }\n\n  render() {\n    return (\n      <form className=\"mb-3\">\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Search...\"\n          name=\"filterText\"\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default Filters;\n","\nimport React, { Component } from 'react';\n\nclass ProductRow extends Component {\n  constructor(props) {\n    super(props);\n    this.destroy = this.destroy.bind(this);\n  }\n\n  destroy() {\n    this.props.onDestroy(this.props.product.id);\n  }\n\n  render() {\n    const { product } = this.props.product;\n\n    return (\n      <tr>\n        <td>{product.name}</td>\n        <td>{product.category}</td>\n        <td>${product.price}</td>\n        <td>{product.instock ? 'Yes' : 'No'}</td>\n        <td className=\"text-right\">\n          <button onClick={this.destroy} className=\"btn btn-info btn-sm\">\n            Delete\n          </button>\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default ProductRow;\n","\nimport React, { Component } from 'react';\nimport ProductRow from './ProductRow';\n\nclass ProductTable extends Component {\n  constructor(props) {\n    super(props);\n    this.handleDestroy = this.handleDestroy.bind(this);\n  }\n\n  handleDestroy(id) {\n    this.props.onDestroy(id);\n  }\n\n  render() {\n    const productsArray = Object.keys(this.props.products).map(\n      (pid) => this.props.products[pid]\n    );\n    const rows = [];\n    const filter = (this.props.filterText || '').toLowerCase();\n\n    productsArray.forEach((productDoc) => {\n      const name = (productDoc.product && productDoc.product.name) || '';\n      if (name.toLowerCase().indexOf(filter) === -1) {\n        return;\n      }\n      rows.push(\n        <ProductRow\n          product={productDoc}\n          key={productDoc.id}\n          onDestroy={this.handleDestroy}\n        />\n      );\n    });\n\n    return (\n      <div>\n        <table className=\"table table-striped table-sm\">\n          <thead className=\"thead-dark\">\n            <tr>\n              <th>Name</th>\n              <th>Category</th>\n              <th>Price</th>\n              <th>In Stock</th>\n              <th>&nbsp;</th>\n            </tr>\n          </thead>\n          <tbody>{rows}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default ProductTable;\n","\nimport React, { Component } from 'react';\n\nconst RESET_VALUES = {\n  id: '',\n  productid: '',\n  category: '',\n  price: '',\n  name: '',\n  instock: true,\n};\n\nclass ProductForm extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.state = {\n      product: { ...RESET_VALUES },\n      errors: {},\n    };\n  }\n\n  handleChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState((prevState) => ({\n      product: {\n        ...prevState.product,\n        [name]: value,\n      },\n    }));\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n    this.props.onSave(this.state.product);\n    this.setState({\n      product: { ...RESET_VALUES },\n      errors: {},\n    });\n  }\n\n  render() {\n    const { name, category, price, instock } = this.state.product;\n\n    return (\n      <form onSubmit={this.handleSave}>\n        <h4>Add a new product</h4>\n        <p>\n          <label>\n            Name\n            <br />\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"name\"\n              onChange={this.handleChange}\n              value={name}\n            />\n          </label>\n        </p>\n        <p>\n          <label>\n            Category\n            <br />\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"category\"\n              onChange={this.handleChange}\n              value={category}\n            />\n          </label>\n        </p>\n        <p>\n          <label>\n            Price\n            <br />\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              className=\"form-control\"\n              name=\"price\"\n              onChange={this.handleChange}\n              value={price}\n            />\n          </label>\n        </p>\n        <p>\n          <label>\n            In Stock\n            <br />\n            <input\n              type=\"checkbox\"\n              name=\"instock\"\n              checked={instock}\n              onChange={this.handleChange}\n            />{' '}\n            <span>{instock ? 'Yes' : 'No'}</span>\n          </label>\n        </p>\n        <input\n          type=\"submit\"\n          className=\"btn btn-info\"\n          value=\"Save\"\n        />\n      </form>\n    );\n  }\n}\n\nexport default ProductForm;\n","import React, { Component } from \"react\";\nimport Filters from \"./Filters\";\nimport ProductTable from \"./ProductTable\";\nimport ProductForm from \"./ProductForm\";\n\nclass Products extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterText: \"\",\n      products: {},\n    };\n    this.handleFilter = this.handleFilter.bind(this);\n    this.handleDestroy = this.handleDestroy.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:5001/product/get/\")\n      .then((res) => res.json())\n      .then((data) => {\n        const productsObj = {};\n        data.forEach((doc) => {\n          productsObj[doc.id] = doc;\n        });\n        this.setState({ products: productsObj });\n      })\n      .catch((err) => {\n        console.error(\"Error fetching products:\", err);\n      });\n  }\n\n  handleFilter(filterInput) {\n    this.setState(filterInput);\n  }\n\n  handleSave(productFormValues) {\n    const id = productFormValues.id || Date.now();\n    const productPayload = {\n      id,\n      product: {\n        productid: productFormValues.productid || id,\n        category: productFormValues.category,\n        price: parseFloat(productFormValues.price || 0),\n        name: productFormValues.name,\n        instock:\n          typeof productFormValues.instock === \"boolean\"\n            ? productFormValues.instock\n            : true,\n      },\n    };\n\n    const isNew = !productFormValues.id;\n\n    const url = isNew\n      ? \"http://localhost:5001/product/create\"\n      : `http://localhost:5001/product/update/${id}`;\n    const method = isNew ? \"POST\" : \"PUT\";\n\n    fetch(url, {\n      method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(productPayload),\n    })\n      .then((res) => res.json())\n      .then((saved) => {\n        this.setState((prevState) => {\n          const products = { ...prevState.products };\n          products[saved.id] = saved;\n          return { products };\n        });\n      })\n      .catch((err) => {\n        console.error(\"Error saving product:\", err);\n      });\n  }\n\n  handleDestroy(productId) {\n    fetch(`http://localhost:5001/product/delete/${productId}`, {\n      method: \"DELETE\",\n    })\n      .then(() => {\n        this.setState((prevState) => {\n          const products = { ...prevState.products };\n          delete products[productId];\n          return { products };\n        });\n      })\n      .catch((err) => {\n        console.error(\"Error deleting product:\", err);\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>My Inventory</h1>\n        <Filters onFilter={this.handleFilter} />\n        <ProductTable\n          products={this.state.products}\n          filterText={this.state.filterText}\n          onDestroy={this.handleDestroy}\n        />\n        <ProductForm onSave={this.handleSave} />\n      </div>\n    );\n  }\n}\n\nexport default Products;\n","\nimport React from 'react';\nimport Products from './Products';\n\nfunction App() {\n  return (\n    <div className=\"container mt-4\">\n      <Products />\n    </div>\n  );\n}\n\nexport default App;\n","const isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    window.location.hostname === \"[::1]\" ||\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl, config);\n\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              console.log(\"Content is cached for offline use.\");\n\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  fetch(swUrl)\n    .then((response) => {\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}